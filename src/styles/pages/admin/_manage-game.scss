/* ======================== THEME ======================== */
:root {
  --bg: #0b0f16;
  --panel: #111827;
  --panel-2: #0f1722;
  --line: #1f2937;
  --text: #e5e7eb;
  --muted: #94a3b8;
  --muted-2: #64748b;
  --muted-3: #3b4454;
  --yellow: #f7d24c;
  --red: #f87171;
  --green: #22c55e;
  --blue: #6ca8ff;
  --card-radius: 12px;
  --shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
}

/* ======================== PAGE: Manage Game ======================== */
.manage-game-page {
  min-height: 100vh;
  padding: 20px;
  background:
    radial-gradient(1200px 1200px at 10% -10%, #0a1322 0%, transparent 60%),
    radial-gradient(1000px 800px at 110% 20%, #0b1427 0%, transparent 60%),
    var(--bg);
  color: var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;

  .page-title {
    font-size: 28px;
    font-weight: 800;
    margin: 4px 0 16px;
    letter-spacing: 0.2px;
  }

  /* Toolbar */
  .toolbar {
    display: grid;
    grid-template-columns: 1fr auto;
    gap: 16px;
    align-items: center;
    margin-bottom: 12px;

    .search input {
      width: 100%;
      border-radius: 10px;
      background: var(--panel-2);
      border: 1px solid var(--line);
      color: var(--text);
      padding: 12px 14px;
      outline: none;
      transition: border-color 0.2s, box-shadow 0.2s;
    }
    .search input::placeholder { color: #8aa0b9; }
    .search input:focus { border-color: #2b3b55; box-shadow: 0 0 0 3px rgba(108,168,255,.15); }

    .filters {
      display: flex; align-items: center; gap: 12px;
      select {
        appearance: none; background: var(--panel-2); color: var(--text);
        border: 1px solid var(--line); border-radius: 10px; padding: 10px 12px; min-width: 180px; outline: none;
      }
      .total { margin-left: 8px; font-weight: 700; color: #ffd54a; }
    }
  }

  /* Card + table */
  .card.table-card { background: var(--panel); border: 1px solid var(--line); border-radius: var(--card-radius); box-shadow: var(--shadow); }
  .table-wrapper { overflow: auto; border-radius: var(--card-radius) var(--card-radius) 0 0; }

  .game-table {
    width: 100%; border-collapse: separate; border-spacing: 0;

    thead th {
      position: sticky; top: 0; z-index: 1; background: #1b2433;
      color: var(--text); text-align: left; font-size: 14px; font-weight: 700;
      padding: 14px 16px; border-bottom: 1px solid var(--line); white-space: nowrap;
    }
    thead .th-check, tbody .td-check { width: 44px; text-align: center; }
    thead .th-actions, tbody .td-actions { width: 120px; text-align: right; }

    tbody tr { background: #131b28; border-bottom: 1px solid var(--line); }
    tbody tr:nth-child(even) { background: #162033; }
    tbody td { padding: 14px 16px; vertical-align: middle; font-size: 14px; color: var(--text); }

    .td-cover img {
      width: 56px; height: 80px; object-fit: cover; border-radius: 8px;
      border: 1px solid #2a3447; box-shadow: 0 4px 16px rgba(0,0,0,.4); display: block;
    }
    .td-title { font-weight: 700; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 240px; }
    .td-release, .td-studio, .td-genres { color: var(--muted); white-space: nowrap; }
    .td-story {
      max-width: 520px; color: var(--text); opacity: .9;
      display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis;
    }

    .icon-btn {
      height: 34px; width: 34px; border-radius: 8px; border: 1px solid var(--line);
      background: #1b2433; color: var(--blue); display: inline-grid; place-items: center; cursor: pointer;
      transition: transform .12s ease, background .2s, border-color .2s; margin-left: 8px;
      &:hover { transform: translateY(-1px); background: #22304a; border-color: #2f3f5a; }
      &.danger { color: var(--red); &:hover { background: #3a1e24; border-color:#542a31; } }
    }

    .empty td { text-align: center; color: var(--muted); padding: 28px 16px; }
    input[type="checkbox"] { width: 16px; height: 16px; accent-color: #5e95ff; cursor: pointer; }
  }

  /* Footer */
  .table-footer {
    display: grid; grid-template-columns: 1fr auto auto; align-items: center; gap: 12px;
    padding: 12px 16px 16px; border-top: 1px solid var(--line);
    background: #0f1723; border-radius: 0 0 var(--card-radius) var(--card-radius);

    .rows { display: inline-flex; align-items:center; gap: 8px; color: var(--muted);
      select { background: var(--panel-2); color: var(--text); border: 1px solid var(--line); border-radius: 8px; padding: 8px 10px; outline: none; }
    }
    .bulk-actions { display: inline-flex; gap: 10px; }
    .pager { display: inline-flex; gap: 10px; align-items: center; .page-indicator { color: var(--muted); font-weight: 600; } }

    .btn {
      border: 1px solid var(--line); background:#1a2231; color: var(--text);
      padding: 10px 14px; border-radius: 10px; font-weight: 700; cursor: pointer;
      transition: background .2s, border-color .2s, opacity .2s;
      &.primary { background:#2a3751; border-color:#2f4162; }
      &.secondary { background:#1a2130; }
      &.small { padding: 8px 10px; font-weight: 600; }
      &:disabled { opacity: .5; cursor: default; }
      &:hover:not(:disabled) { background:#33415c; border-color:#435577; }
    }
  }

  /* Responsive */
  @media (max-width: 980px) {
    .toolbar { grid-template-columns: 1fr; .filters { flex-wrap: wrap; } }
    .game-table .td-story { max-width: 360px; }
  }
}

/* ======================== MODAL (shared – cleaned) ======================== */
.modal-backdrop {
  position: fixed; inset: 0; z-index: 100;
  display: flex; align-items: center; justify-content: center;
  background: rgba(0,0,0,.6);
  padding: 24px;            /* uzun içerikte kenarlık + erişim */
  overflow: auto;           /* ekran taşarsa body yerine backdrop kayar */
}
.modal-card {
  width: 960px;                           /* sabit hissiyat */
  max-width: calc(100vw - 48px);
  background: #111827; color: #e5e7eb; border-radius: 14px;
  padding: 16px 16px 20px; box-shadow: 0 20px 50px rgba(0,0,0,.45);

  max-height: 88vh;                       /* kart içinde scroll */
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}
.modal-head {
  position: sticky; top: 0; z-index: 2;
  display: grid; grid-template-columns: auto 1fr auto; align-items: center; gap: 12px;
  background: #111827; padding-bottom: 10px; margin-bottom: 10px;
  border-bottom: 1px solid #243041;
}
.modal-head h3 { margin: 0; font-size: 22px; font-weight: 800; }
.modal-head .icon-btn { background: transparent; border: none; color: #e5e7eb; font-size: 18px; cursor: pointer; }

/* Tabs (uses .tabs / .tab from your JSX) */
.tabs { display: flex; justify-content: center; gap: 12px; }
.tab {
  display: inline-flex; align-items: center; gap: 10px;
  background: #0f1722; color: #e5e7eb;
  border: 1px solid #243041; border-radius: 12px;
  padding: 10px 14px; font-weight: 700; cursor: pointer;
  transition: transform .12s ease, background .15s ease, border-color .15s ease;
}
.tab:hover { transform: translateY(-1px); background:#0e1a2c; border-color:#2a3a52; }
.tab.active { background:#0d1524; border-color:#3a5aa0; box-shadow: inset 0 0 0 1px rgba(58,90,160,.35); }

/* ======================== AddGame Modal parts (match JSX) ======================== */
/* Search row */
.single-search { display: flex; gap: 12px; margin: 12px 0 10px; }
.single-search input {
  flex: 1; padding: 12px 14px; border-radius: 12px;
  background:#0b1423; color:#e5e7eb; border:1px solid #22304a; outline: none;
  transition: border-color .15s, box-shadow .15s;
}
.single-search input::placeholder { color:#8799b3; }
.single-search input:focus { border-color:#2b3b55; box-shadow:0 0 0 3px rgba(108,168,255,.15); }
/* Gradient search button—yalnızca bu satıra etkiler */
.single-search .btn.primary {
  min-width: 148px; border: none; border-radius: 12px;
  padding: 12px 16px; font-weight: 800; color: #fff;
  background: linear-gradient(135deg, #0ea5e9 0%, #2563eb 100%);
  box-shadow: 0 6px 18px rgba(37,99,235,.3);
  transition: transform .12s ease, filter .15s ease, box-shadow .15s ease, opacity .15s;
}
.single-search .btn.primary:hover { transform: translateY(-1px); filter: brightness(1.05); box-shadow: 0 8px 22px rgba(37,99,235,.38); }
.single-search .btn.primary:disabled { opacity: .6; cursor: default; box-shadow: none; }

/* Results + empty state (panel görünüm) */
.results-list {
  background:#0f1722; border:1px solid #243041; border-radius:12px; padding: 6px;
  /* iç scroll yerine kart scroll kullandığımız için sınır yok */
}
.empty-hint { padding: 24px 12px; text-align: center; color:#cbd5e1; }

/* Result row */
.result-item {
  display:flex; align-items:center; gap:10px;
  padding:10px 12px; border-radius:10px; cursor:pointer;
  border:1px solid transparent; transition: background .15s, border-color .15s;
}
.result-item input[type="radio"] { width: 16px; height: 16px; accent-color:#5e95ff; }
.result-item .ri-name { font-weight: 600; }
.result-item .badge {
  margin-left: auto; font-size: 12px; font-weight: 800;
  padding: 4px 8px; border-radius: 999px; border: 1px solid #21324c;
  background:#0e223a; color:#a7c1ff;
}
.result-item:hover, .result-item.active { background:#111f33; border-color:#21324c; }

/* Actions row */
.preview-actions { display:flex; justify-content:flex-end; gap:8px; margin:12px 0; }
.preview-actions .btn.secondary {
  background:#1f2937; color:#e5e7eb; border:1px solid #374151;
  padding:8px 12px; border-radius:10px; cursor:pointer;
}

/* Merge preview */
.merge-preview {
  display:grid; grid-template-columns: 240px 1fr; gap:12px;
  background:#0f1722; border:1px solid #243041; border-radius:12px; padding:12px;
}
.merge-preview img { width:100%; border-radius:8px; object-fit:cover; aspect-ratio:16/9; }
.no-cover { width:100%; height:0; padding-bottom:56%; border-radius:8px; background:#182338; display:grid; place-items:center; color:#9ca3af; }
.mp-title { font-size:18px; font-weight:700; margin-bottom:6px; }
.mp-row { margin:4px 0; }

/* Manual form */
.form-grid {
  display:grid; grid-template-columns: 1fr 1fr; gap:12px;
  background:#0f1722; border:1px solid #243041; border-radius:12px; padding:12px;
}
.field { display:flex; flex-direction:column; gap:6px; }
.field label { font-size:12px; color:#b8c4d6; font-weight:700; }
.field input, .field textarea {
  padding:10px 12px; border-radius:10px; background:#0b1423; color:#e5e7eb; border:1px solid #22304a; outline:none;
  transition: border-color .15s, box-shadow .15s;
}
.field input::placeholder, .field textarea::placeholder { color:#8aa0b9; }
.field input:focus, .field textarea:focus { border-color:#2b3b55; box-shadow:0 0 0 3px rgba(108,168,255,.12); }
.field.col-span-2 { grid-column: span 2; }
.ttb-row { display:grid; grid-template-columns: 1fr 1fr 1fr; gap:8px; }

/* Responsive (modal) */
@media (max-width: 820px) {
  .modal-card { width: 100%; max-width: 100%; border-radius: 12px; }
  .modal-head { grid-template-columns: 1fr auto; grid-auto-rows: auto; row-gap: 10px; }
  .tabs { grid-column: 1 / -1; justify-content: flex-start; flex-wrap: wrap; }
  .single-search { flex-direction: column; }
  .single-search .btn.primary { width: 100%; }
  .merge-preview { grid-template-columns: 1fr; }
  .form-grid { grid-template-columns: 1fr; }
}
